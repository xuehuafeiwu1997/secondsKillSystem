<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE mapper        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"        "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.xmy.secondskill.dao.OrderDao">    <select id="getMiaoShaOrderByUserIdAndGoodsId" resultType="com.xmy.secondskill.entity.MiaoshaOrder">        select * from miaosha_order where user_id=#{userId} and goods_id=#{goodsId};    </select>        <insert id="insertOrderInfo" parameterType="com.xmy.secondskill.entity.OrderInfo">         <!--返回最后插入的id-->        <selectKey keyProperty="id" resultType="java.lang.Long" order="AFTER">            select LAST_INSERT_ID()        </selectKey>        insert into order_info(user_id, goods_id, goods_name, goods_count, goods_price, order_channel, status, create_date)values( #{userId}, #{goodsId}, #{goodsName}, #{goodsCount}, #{goodsPrice}, #{orderChannel},#{status},#{createDate});    </insert>    <insert id="insertMiaoshaOrder">        insert into miaosha_order (user_id, goods_id, order_id)values(#{userId}, #{goodsId}, #{orderId});    </insert>    <resultMap id="getOrderInfo" type="com.xmy.secondskill.entity.OrderInfo">        <id property="id" column="id" />        <result property="userId" column="user_id" />        <result property="goodsId" column="goods_id"/>        <result property="deliveryAddrId" column="delivery_addr_id" />        <result property="goodsName" column="goods_name" />        <result property="goodsCount" column="goods_count" />        <result property="goodsPrice" column="goods_price" />        <result property="orderChannel" column="order_channel" />        <result property="status" column="status" />        <result property="createDate" column="create_date" />        <result property="payDate" column="pay_date" />    </resultMap>    <select id="getOrderById" resultMap="getOrderInfo">        select * from order_info where id = #{orderId};    </select>    <delete id="deleteOrders">        delete from order_info;    </delete>        <delete id="deleteMiaoshaOrders">        delete from miaosha_order;    </delete></mapper>