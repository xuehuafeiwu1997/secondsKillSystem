package com.xmy.secondskill.validator;import com.xmy.secondskill.util.ValidatorUtil;import org.apache.commons.lang3.StringUtils;import javax.validation.ConstraintValidator;import javax.validation.ConstraintValidatorContext;/** * @author xmy * @date 2021/3/25 1:14 下午 */public class IsMobileValidator implements ConstraintValidator<IsMobile,String> {    private boolean required = false;    @Override    public void initialize(IsMobile constraintAnnotation) {        required = constraintAnnotation.require();    }    @Override    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {        if (required) {            return ValidatorUtil.isMobile(s);        } else {            if (StringUtils.isEmpty(s)) {                //这里为什么要返回true                return true;            } else {                return ValidatorUtil.isMobile(s);            }        }    }}